<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>The Water Chain Game</title>
    <link rel="stylesheet" href="style.css">
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>
  <div id="game-container">
    <header class="app-header" style="background: #f7c948; color: #0077c2; padding: 1em;">
      <span role="img" aria-label="water drop">ðŸ’§</span>
      <span style="font-weight: bold; font-size: 2em; margin-left: 0.5em;">WordFlow</span>
      <div style="font-size: 1em; margin-top: 0.5em;">
        <em>Every word helps spread awareness for clean water!</em>
      </div>
    </header>
    <h1>The Water Chain Game</h1>
    <p>
        A word chain game where clean water is the theme, and every word keeps the flow going!
    </p>
    <ul>
         <section id="game-mechanics" style="max-width: 600px; margin: 2em auto;">
      <h2 style="font-weight: bold; margin-bottom: 0.5em;">Game Mechanics</h2>
      <ul style="list-style-type: disc; padding-left: 1.5em;">
        <li><strong>Word Chain:</strong> Players must enter a word that starts with the last letter of the previous word.</li>
        <li><strong>No Repeats:</strong> Words cannot be reused in the same game.</li>
        <li><strong>Timer or Points:</strong> Players are either timed or earn points for each valid word, depending on the selected mode.</li>
        <li><strong>Water Facts:</strong> After every few valid words, a water fact is displayed.</li>
        <li><strong>Milestones:</strong> Special icons or achievements appear when players reach certain word counts or streaks.</li>
      </ul>
    </ul>
    <div class="game-container">
        <div class="game-info">
            <span id="score">Score: 0</span>
            <span id="streak">Streak: 0</span>
            <span id="timer">60s</span>
        </div>
        <button id="dailyChallengeBtn">ðŸŒ± Daily Challenge</button>
        <span id="dailyLabel" style="display:none; color:#388e3c; font-weight:bold;">Daily Challenge Mode</span>
        <div class="word-chain" id="wordChain">
            <!-- Words will appear here -->
        </div>
        <form id="wordForm" autocomplete="off">
            <input type="text" id="wordInput" placeholder="Enter next word..." maxlength="12" required>
            <button type="submit">Submit</button>
        </form>
        <form id="usernameForm" style="margin-bottom:1rem;">
            <input type="text" id="usernameInput" placeholder="Enter your name" maxlength="16" required>
            <button type="submit">Set Name</button>
        </form>
        <div id="message"></div>
        <div id="waterFact"></div>
        <div class="jug-animation" id="jugAnimation"></div>
        <div id="leaderboard" class="leaderboard"></div>
        <div style="margin-bottom:0.5rem;">
            <label>
                <input type="checkbox" id="multiplayerToggle">
                Multiplayer (Pass-the-Device)
            </label>
            <span id="currentPlayerLabel" style="margin-left:1rem; color:#0288d1; font-weight:bold; display:none;"></span>
        </div>
        <button id="shareBtn" style="margin-top:1rem;">Share My Score</button>
    </div>
    <div id="fun-fact" style="margin: 2rem 0; padding: 1rem; background: #e0f7fa; border-radius: 8px; color: #0288d1; font-weight: bold;">
      Fun Fact will appear here!
    </div>
    <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80" class="background-image" alt="background" />
    <script src="game.js"></script>
    <script>
      const facts = [
        "1 in 10 people lack access to clean water.",
        "Women and girls spend 200 million hours every day collecting water.",
        "Every $1 invested in clean water can yield $4â€“$12 in economic returns.",
        "Unsafe water kills more people each year than all forms of violence, including war."
      ];
      // Pick a random fact
      const randomFact = facts[Math.floor(Math.random() * facts.length)];
      document.getElementById('fun-fact').textContent = randomFact;
    </script>
    <script>
      import React, { useState, useEffect } from 'react';

      const facts = [
        "1 in 10 people lack access to clean water.",
        "Women and girls spend 200 million hours every day collecting water.",
        "Every $1 invested in clean water can yield $4â€“$12 in economic returns.",
        "Unsafe water kills more people each year than all forms of violence, including war."
      ];

      export default function WaterFact({ round }) {
        // Rotate fact every round
        const factIndex = round % facts.length;
        return (
          <div className="water-fact-card">
            <h4>ðŸ’§ Water Fact</h4>
            <p>{facts[factIndex]}</p>
          </div>
        );
      }
    </script>
    <script>
      import React from 'react';

      export default function GameOver() {
        return (
          <div className="game-over">
            <h2>Game Over!</h2>
            <p>Thanks for playing and helping spread awareness about clean water.</p>
            <a
              href="https://www.charitywater.org/"
              target="_blank"
              rel="noopener noreferrer"
              className="cta-button"
              style={{
                background: '#f7c948',
                color: '#0077c2',
                padding: '0.75em 1.5em',
                borderRadius: '6px',
                textDecoration: 'none',
                fontWeight: 'bold'
              }}
            >
              Learn more about charity: water
            </a>
          </div>
        );
      }
    </script>
  </div>
</body>
</html>
